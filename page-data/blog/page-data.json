{"componentChunkName":"component---node-modules-gatsby-theme-portfolio-minimal-src-templates-article-listing-index-tsx","path":"/blog","result":{"pageContext":{"articles":[{"banner":{"alt":"github submodule을 이용하여 환경 변수를 관리해보자","caption":null,"src":{"childImageSharp":{"gatsbyImageData":{"layout":"constrained","placeholder":{"fallback":"data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20width='660'%20height='400'%20viewBox='0%200%20660%20400'%20preserveAspectRatio='none'%3e%3cpath%20d='M106%2019l-2%204c0%202%200%202-3%201-4-1-7%200-7%203l-3%201c-1-1-3%200-4%201l-5%202-2%201-1%2016v16H68c-12%201-16%202-22%209-7%207-6%205-6%2072l-1%2061-4-4-5-3%202%204%203%203H18c-15%200-18%200-18%202l17%201h17l-2%203c-5%205-2%206%203%201l4-4v61c1%2068%200%2065%207%2072l7%206%205%203h344l5-3%208-7c5-7%205-1%205-136V82l-3-5c-3-6-8-10-14-12l-133-1H140V32l-15-7c-16-7-15-7-19-6m550%200l-2%204c0%202%200%202-3%201s-7%200-7%203l-3%201c-1-1-3%200-4%201l-4%202c-2%200-3%201-3%2017v16h-11c-16%201-22%204-27%2015-2%204-2%206-2%20129v124l3%205c3%206%208%2011%2014%2013%206%201%2053%202%2053%200l-25-1c-29%200-33-1-39-9-5-7-5-5-5-136l1-121%202-5c5-9%2011-12%2026-12h10v4c0%203%200%204%203%204l3%201c0%202%203%203%206%202l2%201c0%203%204%204%207%203s3-1%203%202c0%202%203%204%206%204a689%20689%200%2000-1-69l-3%201M54%2068c-5%202-10%209-12%2014v251c2%205%207%2011%2012%2014l5%202h342l5-3c4-2%206-4%209-8l3-5V208l-1-128c-2-5-7-10-11-12l-5-2H140v7l-15%207c-15%207-16%208-18%206-2%200-3-2-3-3%200-2-1-3-3-2-3%201-7%200-7-3l-3-1c-3%201-5%200-5-2l-3-1c-3%200-4-1-4-4v-4H69c-8%200-11%200-15%202m170%2037c-6%201-22%209-26%2013l-6%207-3%204c-2%201-5%207-5%2011l-6%209a74%2074%200%2000-1%20103c6%206%206%206%206%2012l1%207%2025%2010h4l3%2010c4%2013%204%2012%2023%2012%2017%201%2020-1%2020-6%200-2%201-3%203-4%204-1%205-3%203-11-1-7-1-7%202-10%203-4%2010-5%2012-3%202%203%2013%203%2016%200%207-4%206-22-1-29-2-2-2-2%201-8%2012-25%207-60-11-80-4-5-5-6-6-13-2-15-13-29-27-33-7-2-20-3-27-1m7%204c-5%201-14%207-20%2012-4%204-4%205-4%208v12c-1%206-2%209-1%2011%201%205%201%209-1%209-3%202-4%201-5-2-5-11-17-4-14%207%202%208%208%2012%2012%209s6-1%202%202v8c3%207%205%2012%208%2014%203%203%2013%205%2015%203l4-1c2%200%201-1-3-4-5-5-7-8-8-12l6%205c8%209%2012%2011%2021%2011%2020%201%2035-22%2033-53-1-14-5-19-12-18h-3c0-2%202-4%205-4s3%200-1-5c-7-9-23-14-34-12m22%2036c0%203%203%209%208%2015s5%208-1%2011c-7%203-10%203-11-1-2-2-2-2-2%200v4c2%203%209%202%2016-1%208-4%208-7%200-16l-7-10c-2-4-3-5-3-2m379%204l-1%2030v27l2%202c3%203%205%203%208%200%202-2%202-3%202-20l1-18%208%208%208%207v-18l-10-10c-11-11-14-12-18-8m-46%2057c1%201-8%201-82%201h-83l83%201h84c1-1-1-4-2-4v2m-336%2013h-3l-2%201%2010%2020%201-10%201-9-4-1-3-1m30%2025c-8%203-7%202-6%2013l1%208h6c7-1%2010%200%205%202l-4%201h4c9%200%2012-5%209-17-2-6-5-10-7-10l-8%203m-57%205c-12%202-11%200-9%2012%201%2013%206%2034%208%2036s16%203%2024%202l8-1%201-5-2-25-1-19h-29m26%20124v7c1%201%200%202-1%204-4%206%201%2012%208%209h4c2%202%204%201%202-1v-5c1-3%201-3-1-3l-2%202-2-1-2-2%202-3c2-2%202-3%201-5-1-3-7-4-9-2m24%2010c0%209%200%2011%202%2011l1-1h2c3%202%207%200%209-3%203-7-2-15-8-12-3%201-3%201-3-3l-1-3c-2%200-2%202-2%2011m59-7c0%203-1%204-2%202-2-2-6-1-8%202-5%206%202%2018%208%2013h2l2%201%201-11-1-11c-2%200-2%201-2%204m-206%203c-4%202-4%2011%200%2013h8c1-1%201-1%201%202-1%203-5%204-7%202h-3c-2%201%202%204%205%204%207%200%208-2%208-13l-1-10-2%201h-1c-2-1-5-1-8%201m41%200c-5%206-1%2015%206%2015%203%200%206-3%206-5s-3-1-3%201c-2%203-7%200-7-4%200-5%205-8%207-4h3c0-5-8-6-12-3m23%200c-4%205-1%2015%206%2015%203%200%207-4%207-8%200-5-4-9-7-9l-6%202m16%207l1%208c2%200%202-2%202-6%201-7%202-9%205-8%202%201%202%202%202%208%200%205%200%206%202%206%202-1%203-6%202-12-1-4-5-6-8-4h-3l-1-1c-2%200-2%202-2%209m19-7c-3%203-4%209-1%2012%204%204%2012%203%2012-1h-4c-1%202-5%201-6-1%200-2%201-2%205-2%207-1%208-3%204-7-3-3-7-4-10-1m66-1v12c1%203%205%205%208%203h2l2%201%201-8-1-9c-2%200-2%201-2%205%200%207-2%2010-5%208-2%200-2-2-2-7%200-6-1-8-3-5'%20fill='%23d3d3d3'%20fill-rule='evenodd'/%3e%3c/svg%3e"},"images":{"fallback":{"src":"/static/5d33aca76bf7ab2bd5d498b589415764/bc51f/deploy_process.png","srcSet":"/static/5d33aca76bf7ab2bd5d498b589415764/41200/deploy_process.png 165w,\n/static/5d33aca76bf7ab2bd5d498b589415764/f979a/deploy_process.png 330w,\n/static/5d33aca76bf7ab2bd5d498b589415764/bc51f/deploy_process.png 660w,\n/static/5d33aca76bf7ab2bd5d498b589415764/f57dd/deploy_process.png 1320w","sizes":"(min-width: 660px) 660px, 100vw"},"sources":[{"srcSet":"/static/5d33aca76bf7ab2bd5d498b589415764/322ad/deploy_process.webp 165w,\n/static/5d33aca76bf7ab2bd5d498b589415764/de3b3/deploy_process.webp 330w,\n/static/5d33aca76bf7ab2bd5d498b589415764/2b2b5/deploy_process.webp 660w,\n/static/5d33aca76bf7ab2bd5d498b589415764/e36a7/deploy_process.webp 1320w","type":"image/webp","sizes":"(min-width: 660px) 660px, 100vw"}]},"width":660,"height":400}}}},"body":"<blockquote>\n<p>해당 포스트는 모모팀 크루 유세지가 작성했습니다.</p>\n</blockquote>\n<p>이번 프로젝트의 릴리즈에서, 환경 변수의 관리 방법을 기존의 로컬 파일에 의존하던 방식에서 github의 <code>submodule</code>를 적용하여 관리하는 방법으로 변경하였습니다. 어떤 점에서 불편을 느꼈고, 어떻게 이러한 방식을 적용하게 되었는지 이야기해보려 합니다.</p>\n<h1>환경 변수?</h1>\n<p>위키백과에 따르면, 환경 변수란 실행 중인 프로세스가 컴퓨터에서 동작하는 방식에 영향을 미치는 동적인 값들의 모임이라고 설명하고 있습니다. 물론 틀린 말은 아니나, 이것은 OS의 관점에서 설명했기에 저희 프로젝트에서 적용한 환경 변수에는 다소 와닿지 않는 설명입니다.</p>\n<p>현재 프로젝트 상황에 맞도록 조금 다르게 설명해보면, 환경 변수는 <strong>“프로젝트의 환경에 따라 다르게 사용되는 변수”</strong> 정도로 정의할 수 있을 것 같습니다.</p>\n<h1>환경 변수를 사용하는 이유</h1>\n<p>환경 변수를 사용하는 이유는 크게 두 가지를 들 수 있습니다.</p>\n<h2>1. 보안을 위해</h2>\n<p>프로젝트를 진행하다 보면, 외부에 공개하면 문제가 생길 수 있지만 프로젝트에는 꼭 포함되어야 하는 정보들이 있습니다. 가령 API Key 라던가, DB에 접근하는 계정이 그 예시입니다.</p>\n<p>이러한 정보들이 프로젝트에 그대로 포함된 채 깃허브의 public repository 같은 공개적인 장소에 올라가게 되면 중요 정보가 외부에 노출되어 자칫 위험한 상황으로 이어질 수 있습니다. 실제로 깃허브에 이러한 key값이 노출되면 종종 보안 경고 메일이 오기도 합니다.</p>\n<p>이러한 상황을 미연에 방지하기 위해, 중요 정보들은 별도의 환경 변수로 관리하여야 합니다. 주요 정보를 환경 변수 파일로 설정해주고, 깃허브에 올라가지 않도록 <code>.gitignore</code> 파일에 추가해주면 이러한 정보가 새는걸 막을 수 있습니다.</p>\n<h2>2. 개발 환경을 위해</h2>\n<p>환경 변수는 보안 뿐 아니라 개발 환경이 나뉘어진 경우에도 유용합니다. 모모 프로젝트의 구조를 생각해보겠습니다. 모모는 크게 production mode와 develop mode로 나뉘어져 있습니다. develop mode에서 모킹된 API를 사용하거나, 별도의 개발용 서버를 사용하기 위해서는 두 mode의 BASE URL이 다를 필요가 있습니다.</p>\n<p>develop mode와 production mode를 오가며 BASE URL과 이에 따른 설정들을 하나하나 바꿔주는건 번거롭습니다. 그렇다고 코드에 조건문들을 추가하자니 프로덕션 코드가 더러워집니다. 이럴때 환경 변수를 선언해주면 이러한 변경들을 깔끔하게 관리할 수 있습니다.</p>\n<h1>처음에 시도했던 방법</h1>\n<p>모모에서는 처음엔 환경 변수 파일을 생성하여 로컬 파일로 관리하였습니다. 그러나 Jenkins를 통해 CI/CD를 관리하기 시작하며 로컬에만 존재하는 환경 변수 파일을 함께 배포하기 번거로워졌습니다.</p>\n<p>당시의 배포 과정은 이렇습니다.</p>\n<center>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 800px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/5d33aca76bf7ab2bd5d498b589415764/29726/deploy_process.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 31%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAGCAYAAADDl76dAAAACXBIWXMAAAsTAAALEwEAmpwYAAABzElEQVQY0y2Q30tTARzFP/fO3d27ueloP6+s7W7LrpfR5h2zGRiaxsqCLCqUVlNKS6goJmjOYtVTWVC2CvcSPSSB4XNl9JJB9t6D0Vv/QEEPvt3Y8LwdvocP53tgR7Isc7uQpDYc50hn2L410/3870JK3f5aa95789kWr3eX8GfeFH6VM2xO7xv8PWdWVp9FuUeP+JRpUqTERjYEHJQkifaAiqFFSBtd0t1+X+bmxZPap7XlxZU3jzssy6In1y1BgidjQUpD4ejMiJqVX8ntvQvhVmnO4XJPuB0NYBWYEgThVJMeCDiHclnX5v1JXp4eWXy/VLXqZ45XPl4bp9iXV5RzbhsW8AiDOuPUuMwSo8IyV6hjNBjXgT7gUsME/H5nKpV27S8UGes/Wp4v37IeTk5VVu5UOTFwSImkVSHJHrHrqs9FDeXdemb480bhMC9w214jNxgK0AGIHo+HhKbRuVe3N4ebmG1Z+7Beervxxdd4OZPNShEtgjkQE4p50/Fj6xjb30Zn/30vPVj9meM8gwLxeLxN13VvMpm0m6aJFosR9PuIxTSnpoaDgFMCn24YiiSKJOwJQq1R2iIh24Ubum2nkHLg7G5byFBt/wG0M2exm059JwAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"Deploy process\"\n        title=\"Deploy process\"\n        src=\"/static/5d33aca76bf7ab2bd5d498b589415764/5a190/deploy_process.png\"\n        srcset=\"/static/5d33aca76bf7ab2bd5d498b589415764/772e8/deploy_process.png 200w,\n/static/5d33aca76bf7ab2bd5d498b589415764/e17e5/deploy_process.png 400w,\n/static/5d33aca76bf7ab2bd5d498b589415764/5a190/deploy_process.png 800w,\n/static/5d33aca76bf7ab2bd5d498b589415764/c1b63/deploy_process.png 1200w,\n/static/5d33aca76bf7ab2bd5d498b589415764/29007/deploy_process.png 1600w,\n/static/5d33aca76bf7ab2bd5d498b589415764/29726/deploy_process.png 8302w\"\n        sizes=\"(max-width: 800px) 100vw, 800px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n  </a>\n    </span></p>\n</center>\n<p>프로젝트의 저장소에서 PR이 merge되면, webhook을 통해 Jenkins가 repository clone을 시도합니다. 클론이 완료되면 node module을 설치하고, build 하여 그 결과물을 Nginx가 설치된 서버에 자동으로 배포합니다.</p>\n<p>여기서 문제가 발생합니다. 우리가 만든 환경 변수 파일은 github에 올라가지 않았기에 이 상태로 빌드를 시도하면 오류가 발생할 것입니다. Jenkins 파이프라인의 스크립트를 수정하여 다른 경로에 있는 환경 변수 파일을 참조하도록 하거나, 배포 방식을 수동으로 바꾸는 방법도 있겠지만 이러면 Jenkins를 적용하며 생긴 이점이 상당 부분 사라지거나, 기껏 구성한 환경이 다시 복잡해질 것입니다.</p>\n<p>그래서 저희는 조금 더 우아한 방법을 적용해보았습니다.</p>\n<h1>submodule 적용 과정</h1>\n<p>이러한 문제를 해결하기 위한 방법으로, git에서 제공하는 submodule(이하 서브모듈)이 있습니다. 서브모듈이란 기존의 repository에 다른 repository를 넣어주는 형태인데, 기존 파일 구조를 건드리지 않으면서 다른 저장소의 코드를 모듈처럼 독립적으로 관리할 수 있다는 특징이 있습니다. 이렇게 하면 기존의 코드를 최대한 건드리지 않고, 구성해 둔 파이프라인을 깨지 않으며 환경 변수를 적용할 수 있습니다. 지금부터 한 번 적용해보겠습니다.</p>\n<h2>프로젝트에 서브모듈 적용하기</h2>\n<p>먼저 서브모듈로 사용할 새로운 repository를 만듭니다. 이 저장소에는 환경 변수를 업로드 해주어야 하기 때문에 private으로 생성해줍니다.</p>\n<center>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 380px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/943e31d058d752a5aa21b49518c0e149/3f520/private_repo.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 73.00000000000001%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAPCAYAAADkmO9VAAAACXBIWXMAAAsTAAALEwEAmpwYAAACcUlEQVQ4y1WU3ZKbOBCFeeE8SS7zKnmErezNJrXZyuxMUo5tzBjzD0JCEgj4tiQGj5eqU2q1Wkdq9WmicZyQg2EwI9pOAXacmKYN3jZ2YpwmnNswuW2urcNOM2Z09/3RMAzEyZUka3mKB14SxfG2jU+x4lpKfpw6/jkp/j5Kvp8kX14EP1NNnpf8OpxJ8yqQedKoKCvqVtAIza0xZI2h7m0Y/bxsByqx2UmpiXNNXGiulUEOmlYoeqUDWSCs8xvKjNjR4dyMm30KPi23YV4YJxdSnOdtfR9Ht9xT3hGtqqUWirzuOCcpL4dzOOCUpKRZyfF0oWg6emX4fU5Irhnx643z5crhfKHueuq25xi/cr3lREJpRCeQTUOd5ZTpjWHQIbATiqJq6eSA0pay7miFpBGSsm4p6jak2w8mPFvXKyKfzjJaGA1MFtwIy4z/1nVl/3bz3fPuX5Y1+H185J3+nWoh6aSi8gXqetRgmNyMV0HbtlhrUWpgdjNSKbpOoLXGOXcn98SB0Gvt8pqSFyX/Pv/kcIzDu/jb101DUZb0fU9Z1rjJURQlaXqjqirUoB8Il43QV2xPZ14W5mUNFfc3XB9S29fX/6W7vFV+GyMfNk4LT89fyYprUL/vHA9fiN3e4bXm/QFv2ntEuKEZZz59/MCff3zmnGR8+/6Dp5dfHI5nLmkWJPL7FHPLS/Rbmz1ib9nQehuhw2mJNeatLy3avge/bxrDuhez9WJ3c+hzHdY3REEO68zXDBoDUnRoY++yeUQ43Bh60dP3kqZu8T+Xx9g74V/pTKlmlOwDoZeAf+itSEuwvc/LR0oVCIXoA+Fj7H+E7oPdt3hMagAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"Private repo\"\n        title=\"Private repo\"\n        src=\"/static/943e31d058d752a5aa21b49518c0e149/3f520/private_repo.png\"\n        srcset=\"/static/943e31d058d752a5aa21b49518c0e149/772e8/private_repo.png 200w,\n/static/943e31d058d752a5aa21b49518c0e149/3f520/private_repo.png 380w\"\n        sizes=\"(max-width: 380px) 100vw, 380px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n  </a>\n    </span></p>\n</center>\n<p>해당 repository에 환경 변수를 업로드했다면, 이제 메인이 되는 repository로 돌아와서 서브모듈을 불러올 차례입니다. 명령어를 통해 서브모듈을 연결해줍니다.</p>\n<pre><code class=\"language-Groovy\">git submodule add [서브모듈의 주소]\ngit add *\ngit commit -m \"chore: apply submodule\"\ngit push origin [원하는 브랜치]\n</code></pre>\n<p>이렇게 했다면, 이제 기존 repository에는 서브모듈이 적용된 상태입니다.</p>\n<p>아래의 명령어를 이용하여 다른 팀원의 프로젝트에서도 서브모듈을 적용해줍니다.</p>\n<pre><code class=\"language-Groovy\">git clone [메인 프로젝트 주소] // 처음 시작 시\ngit submodule update --init --recursive\n</code></pre>\n<h2>Jenkins에 서브모듈 적용하기</h2>\n<p>Jenkins에서도 서브모듈을 사용할 수 있게 해주려면 몇 가지 설정이 필요합니다. 먼저 Jenkins가 private repository에 접근하여 서브모듈을 받아올 수 있도록 권한을 설정해주어야 합니다.</p>\n<p>먼저 github에서 토큰을 발급합니다.</p>\n<center>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 800px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/b056658f67bfd281a27651cf457f290e/38808/generate_token.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 73.00000000000001%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAPCAYAAADkmO9VAAAACXBIWXMAAAsTAAALEwEAmpwYAAADfklEQVQ4y1WR728URRjHn0qAba/Gxkiih9fmflUuPbleG2iFBsW0kRg4kRiif4S+N77wje/tC5FUiz0wir6Q4Es1AUsiL2xME6KxwnGFtne93pW73dmdmd2ZnXnMbFttJ/tkMjszn/l+vw8cfjHRezDWVzjw9KGTPX0vjFvPPDfR82z85fJXs31/Ly29Uq1WTU0sLi4OAsCBQnGkN5XOxFKZbCyVzsaS6UwsmUrH+vsHrEQiYcHxE68dnDxz7u6Z0kV88+333AsX38Xi+KmfETHrOMR3XY/h1vjy1/k7ALAfBvPDkDs6Es0DmRwMZHMwkMpCIv48QLk81735pP3HRrOJ642GbLVauLT0zzyl7AjjHBljWmttgLMA0HPy9NTZ3PCxyfzI8alcYXQyM1SYyg4Nn84OFboHj44C3Lj5oxUEwYLruhgIEcgwNJdvI+JLrusp3/dluPXv00OHk2+dPf8Ojo6f0mMTr+OxE69ivjhmiuaLY8l8cQzg8ueX/gMKIQKjxveDbaCr251OuK1wemVlpfRodR0fPHwsK5WH+v6Dilpdq2F9fZ3UavVkvb4OcO3qVYtSutBstbDV2oyAQsgISAjRtu1EQKX0NCKWtvOUiGheUdtrgohJRAT4YmbG8oNgwXYcdBwSKKVQyC2gR6n2PC80lrXeAkopkRAiGYt6pc2nlCJKqaRSyigsW5SxSKHtOIE5taPQIUR7Ho0C3AESGuDqWk2u1erYbtuaMW72/ld4ZXbW8n0/yjAMwz1ASpnmvr8HGEhl9qUQ0mSthZR7LZfn5iKFHdtBpXWgogxFBOSca855KIRArXFaKVXSShmLYju/0EQkpXRCpZJhqAC+++aaFQp/wWeeORMp9IMtha7naY/S6JLpskfZeYe4aDsEjVXzEHEZuh7lYSiTUgqAS1euW5W6/XulZmO14fHHTyQ2neBWZJmxkHMudoCc8zcoZSLwWV1KsREqtSGk3JRSVqWU/VJKgEzp4+4Pf2je++hGEz+4voHvf9vAW385dxEx17EJEuIaXybDrxUioF/vdRr3rdB3LUTcXV1RhjOXPzNN+Z4xVkHERURcFlLOmZA9yv5sd+x7jPvLSqlPjAK8A+BtPoKAEzCA3RWNVDq939Dnf7q5DxGf2qlfbv8Gu9b7QuF3La+ugOAucOqAFAFojaC0hmazGbHi8XjXvwiKeunkwXBaAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"Generate token\"\n        title=\"Generate token\"\n        src=\"/static/b056658f67bfd281a27651cf457f290e/5a190/generate_token.png\"\n        srcset=\"/static/b056658f67bfd281a27651cf457f290e/772e8/generate_token.png 200w,\n/static/b056658f67bfd281a27651cf457f290e/e17e5/generate_token.png 400w,\n/static/b056658f67bfd281a27651cf457f290e/5a190/generate_token.png 800w,\n/static/b056658f67bfd281a27651cf457f290e/c1b63/generate_token.png 1200w,\n/static/b056658f67bfd281a27651cf457f290e/29007/generate_token.png 1600w,\n/static/b056658f67bfd281a27651cf457f290e/38808/generate_token.png 5440w\"\n        sizes=\"(max-width: 800px) 100vw, 800px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n  </a>\n    </span></p>\n</center>\n<p>[Settings] → [Developer settings] → [Personal access tokens] 메뉴에서 접근 가능한 토큰을 생성하고, 키 값을 복사해둡니다.</p>\n<p>이제 이 키를 Jenkins에 등록해서 사용해야 합니다.</p>\n<p>Jenkins의 <code>Dashboard > Manage Credentials</code> 에서 <code>Add Credentials</code>를 누릅니다.</p>\n<center>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 800px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/e8d3923af45b64b864247a64759a036e/83914/add_credential.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 39.49999999999999%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAICAYAAAD5nd/tAAAACXBIWXMAAAsTAAALEwEAmpwYAAACEElEQVQoz0WRz2sTQRTHp56tmHgIAQUh/4EXFbuKDUVBYhNBhFK99aaIIN76D/gPaMCLNy3VQ6zQQmttDBH9E3opGLNJ3dmdnd3Z+b3zZGyLDx5v+DLzefN9Dz1cWnrZarXeBEHwut1ud3u9Xnc4HHZXV1dfLSwsvL27uHgHIXT24oXztxFC80EQNPv9vebOl91m88bV5pkZNI9mTt2anT19qdFoXEHheFxMplPY39+H8XgMSimw1gKlFCaTCaRp+uLj+vq1ne1t6PV6ZjAYOIwjF2Hsfv747na2Ns3m1hb0+/3der2+gpRUv5xzwAVX1loDAMaHtVbCUTwGgOD4bIuiAC4EaK3hRDuue5VKZRnhg4Mwn06BU1oyVngaMMYgIcQUnIPS+mmSJNe9xjk3WZ47xrXLGXdZRh3NuaFMeODXarX6CGWUht5mTrMypfTIclmC1sb4aox5NhqNbnqg1tokSeJILpw0pRNCOC6UKYT+DySEjIQQIKXU3mpZlqa01qf0owCAJ0kcz/mZSilNljNHcezo9NBpxpw22igpT4DLyDmX+YfeLs0ysEqBwBjy32MopfIXn2eUzvkf+mWVDv7piqTgjkBw3PhbtVpdQZzzblEUHzDG78MwXEvTdA1H0do0nLyjlH46PPxz7/PGxjlCyIM4jtsYR52YkA5hrINT0omiqB1F0f08z4NarXb5L9LEBXrOf1+3AAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"Untitled\"\n        title=\"Untitled\"\n        src=\"/static/e8d3923af45b64b864247a64759a036e/5a190/add_credential.png\"\n        srcset=\"/static/e8d3923af45b64b864247a64759a036e/772e8/add_credential.png 200w,\n/static/e8d3923af45b64b864247a64759a036e/e17e5/add_credential.png 400w,\n/static/e8d3923af45b64b864247a64759a036e/5a190/add_credential.png 800w,\n/static/e8d3923af45b64b864247a64759a036e/c1b63/add_credential.png 1200w,\n/static/e8d3923af45b64b864247a64759a036e/29007/add_credential.png 1600w,\n/static/e8d3923af45b64b864247a64759a036e/83914/add_credential.png 6080w\"\n        sizes=\"(max-width: 800px) 100vw, 800px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n  </a>\n    </span></p>\n</center>\n<p>키 값을 통해 github에 로그인 하는 방식이므로, Kind의 <code>Username with password</code>을 선택하고 나머지 빈 값을 채워줍니다.</p>\n<center>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 800px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/e5aa5c0e1045a9324ed8725c0977019b/bc3ae/register_token.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 89.99999999999999%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAASCAYAAABb0P4QAAAACXBIWXMAAAsTAAALEwEAmpwYAAACJUlEQVQ4y42UT4rbMBTGs8kFsusm2bSBQFooLcwsmp6g7aVykR6hpwiEKWQxmw6NQ+s/SRrHcSxZlm09+SuSO5AxdjOCH34W1nvfJz2r9+H9O9ze3mA2m2E0GmEwGKDf72M+n2O1WmGxWGC5XFru7r7jy+dPuJm+wMc3b/H61Rgvx2MMh0NMJhNMp1P0fjw8wHE2cBwH6/XaYmLDZrOxmDgIAmyDAJ7nwXPdGs+D7/s2dl3Xxj0AKIoCWZZBCAEiQiYlTnGMQxhit9+jVArPHT3GmK1uqoWHA7gQ4H6A5LcLFgQ4uy6KMISOY9Dp1E5knjE0EXpGUVmWFqUUNIBs8wvpfg9xjJBFEYhzqITVsAZmjnPkfoCqKGrLzUEJQ/bngOIU21izBskFj++cA1WFXlVVuMRMGpVJmoIJAZHnSKWsyXOUWoNM0QZ2XuunCm1C84GUyHwfYr+HOkY14RHqnECbglq3Yta3JjT7wp0NZHyGZtzaMcnK7Q6kK9sJbehOhUpBMQ55iiGiyB6OOQCdFxcKqwb/UUhlCb7bIdnukEcnyCiyG488v96HrZYZg3A95KkAZRkok1Bpai0rraGIWum0rKREHmxts5LpQ9O4x8i2iPnCWjbWG3Rb1holUb24ubDjhOnfvrYnJEKaCvtvP1qhjkSXCVsV2pxGCSl7adBFwi6uKuRCIghjKKqr6ivqOhvbTJqxuP+J+ddvOKfZk0LPub7+As9eVuKVj5oYAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"Register token\"\n        title=\"Register token\"\n        src=\"/static/e5aa5c0e1045a9324ed8725c0977019b/5a190/register_token.png\"\n        srcset=\"/static/e5aa5c0e1045a9324ed8725c0977019b/772e8/register_token.png 200w,\n/static/e5aa5c0e1045a9324ed8725c0977019b/e17e5/register_token.png 400w,\n/static/e5aa5c0e1045a9324ed8725c0977019b/5a190/register_token.png 800w,\n/static/e5aa5c0e1045a9324ed8725c0977019b/c1b63/register_token.png 1200w,\n/static/e5aa5c0e1045a9324ed8725c0977019b/bc3ae/register_token.png 1268w\"\n        sizes=\"(max-width: 800px) 100vw, 800px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n  </a>\n    </span></p>\n</center>\n<p><code>Username</code>에는 Credential의 소유주를 입력해줍니다. 아무렇게나 적어도 상관없지만, 저는 앞서 토큰을 발급했던 계정을 입력해주었습니다.</p>\n<p><code>Password</code>엔 앞서 복사했던 발급받은 token을 넣어주시고, ID에는 Jenkins에서 사용될 Credential의 이름을 입력해주시면 됩니다. 이후 Jenkins에서 지금 설정한 ID를 통해 Credential을 사용할 수 있습니다.</p>\n<p><code>Description</code>에는 이 Credential에 대한 간단한 설명을 적어주고, Create 버튼을 눌러 생성을 마무리합니다.</p>\n<p>이제 생성된 Credential을 통해 파이프라인 코드를 수정하여 서브모듈을 가져오는 과정을 추가할 차례입니다. 기존에 CI/CD를 위해 파이프라인을 작성하셨던 분들이라면 아래와 같은 코드를 이미 사용하고 계실겁니다.</p>\n<pre><code class=\"language-groovy\">stage('Git Clone') {\n    steps {\n        git branch: 'develop-fe', url: 'https://github.com/woowacourse-teams/2022-momo.git'\n    }\n}\n</code></pre>\n<p>여기에 앞서 생성한 Credential을 활용하여 <code>git submodule update --init --recursive</code> 명령어를 실행하는 코드를 덧붙이면 서브모듈을 함께 불러와 적용할 수 있게 됩니다.</p>\n<pre><code class=\"language-groovy\">stage('Git Clone') {\n    steps {\n        git branch: 'develop-fe', url: 'https://github.com/woowacourse-teams/2022-momo.git'\n        withCredentials([GitUsernamePassword(credentialsId: 'submodule_fe_security_token', gitToolName: 'Default')]) {\n            sh 'git submodule update --init --recursive'\n        }\n    }\n}\n</code></pre>\n<p>이렇게 환경 변수를 외부에 노출하지 않고, 구현된 CI/CD 파이프라인을 해치지 않는 서브모듈 적용이 끝났습니다.</p>","categories":["CI/CD"],"date":"August 15, 2022","description":"github submodule을 이용하여 환경 변수를 관리해보자","id":"5e21d5ed-40fe-57d6-8c41-7db954e58b18","keywords":["CI/CD","submodule"],"slug":"/submodule로-환경변수-관리하기/","title":"submodule로 환경 변수 관리하기","readingTime":{"text":"12 min read"}},{"banner":{"alt":"[React] 모달에 애니메이션 달기","caption":null,"src":null},"body":"<blockquote>\n<p>해당 포스트는 모모팀 크루 하리가 작성했습니다.</p>\n</blockquote>\n<br />\n<p>현재 저희 팀에서는 로그인, 회원가입, 회원정보 수정 등 다양한 곳에서 모달을 사용하고 있습니다.</p>\n<p>이렇게 다양하게 사용하는 만큼 모달 자체에 애니메이션을 달아주는 편이 경험 측면에서 더 좋을 것이라 판단하여 애니메이션을 달아주게 되었습니다.</p>\n<p>여기에서는 모달에 여닫는 애니메이션을 어떻게 구현하였는지에 대해 소개해보려 합니다.</p>\n<br />\n<p>우선 애니메이션이 어떻게 적용되었는지부터 볼까요?</p>\n<center>\n  <img src=\"https://user-images.githubusercontent.com/57928612/183415666-33e8aa61-5424-4de9-a93c-67331055ee32.gif\" alt=\"모달\" width=\"400\">\n</center>\n<br />\n<p><em>코드에 대한 설명 전 저희 모모 프로젝트에서는 emotion, keyframe, animation, setTimeout, react state를 사용했음을 알립니다.</em></p>\n<br />\n<p>저는 우선 keyframe을 정의하여 모달에 애니메이션을 적용시켜주었습니다.</p>\n<center>\n  <img src=\"https://user-images.githubusercontent.com/57928612/183422015-4662d25d-3b12-491d-a3a8-9842d6927172.png\" alt=\"code\" width=\"400\">\n</center>\n<p><strong>Simple Is The Best.</strong></p>\n<p>간단하게 scale에 변화를 주어 모달이 커지고 작아질 수 있도록 만들었습니다.\n원하는 애니메이션이 있다면 해당 애니메이션을 적용해주어도 좋겠죠?</p>\n<br />\n<p>그리고 그렇게 만든 애니메이션을 모달에 적용시켜주었습니다.</p>\n<center>\n  <img src=\"https://user-images.githubusercontent.com/57928612/183423179-625031ce-5a5c-4167-ae1e-630803dc5165.png\" alt=\"code\" width=\"600\">\n</center>\n<p>저는 좀 더 유연하게 모달 애니메이션을 보여주고자 <code>animationTime</code>을 props로 전달받도록 만들었습니다.\n이제 이 props를 Modal 컴포넌트에서 전달해주기만 하면 모달을 여는 애니메이션은 잘 보여질겁니다!</p>\n<center>\n  <img src=\"https://user-images.githubusercontent.com/57928612/183427777-cbcd86eb-e6e8-4163-b59b-8f6dad0af547.png\" alt=\"code\" width=\"500\">\n</center>\n<br />\n<blockquote>\n<p>흠 근데 닫는 애니메이션도 보여준다고 하지 않았나요?</p>\n</blockquote>\n<p>맞습니다. 저희에겐 닫는 애니메이션을 보여주는 과정이 필요합니다.</p>\n<p>근데 보통 모달을 보여줄 때는 true/false로 제어를 하는 경우가 많습니다.\n만약 '보여주지 않는다'라는 상태가 된다면 애니메이션이 보여지기 전에 컴포넌트가 사라지고 말죠.</p>\n<p>그럼 우리가 애니메이션을 어떻게 하면 보여줄 수 있을까요?</p>\n<p>그 방법은 쉽습니다.\n컴포넌트가 사라지는 과정을 지연시키면 됩니다.\n그리고 저는 그 방법으로 간단하게 <code>setTimeout</code>을 사용할겁니다.</p>\n<center>\n  <img src=\"https://user-images.githubusercontent.com/57928612/183427967-9fcef4d3-e7dd-4013-97e7-42f280dbdf2e.png\" alt=\"code\" width=\"600\">\n</center>\n<p>우선 <code>isClosing</code>이라는 상태를 모달 컴포넌트가 갖게 됩니다.\n여기에서는 지금 모달이 닫히고 있는 상태인지의 여부를 알고 있을거예요.</p>\n<p><code>setOffModalWithAnimation</code>이라는 함수에서는 모달 애니메이션을 제어합니다.\n실행됐을 경우 먼저 닫히고 있다고 알린 뒤 setTimeout으로 시간을 체크하여 시간이 경과되었을 경우 모달을 닫고 이제 모달이 닫혔다는 사실을 알립니다.</p>\n<p>모달에서는 <code>isClosing</code>에 따라 클래스명을 줄지 말지를 결정하는 거예요.</p>\n<p>생각보다 모달에 애니메이션을 부여하는 과정은 간단했습니다.</p>\n<br />\n<p>그럼 마지막으로 저희가 실제 모달에 적용한 코드입니다.</p>\n<center>\n  <img src=\"https://user-images.githubusercontent.com/57928612/183428291-cd8ae618-b03f-4fca-af2e-172890bfa16d.png\" alt=\"code\" width=\"560\">\n</center>\n<p>Dimmer 즉 모달의 바깥을 클릭했을 때 <code>setOffModalWithAnimation</code>이 실행되는 부분이 추가되었습니다.\n물론 그러면서 모달을 클릭했을 때는 <code>setOffModalWithAnimation</code>이 실행되는 것을 막기 위해 버블링을 막는 함수를 만들어 넣어주었고요!</p>\n<p>이렇게 하면 간단하게 모달을 여닫는 애니메이션을 적용할 수 있습니다.</p>","categories":["React","Modal"],"date":"August 08, 2022","description":"모달에 애니메이션 달기","id":"f7586b61-46bf-5778-91ea-69316a627578","keywords":["React","Modal","Animation"],"slug":"/모달에-애니메이션-달기/","title":"[React] 모달에 애니메이션 달기","readingTime":{"text":"5 min read"}},{"banner":{"alt":"CI/CD란 무엇일까?","caption":null,"src":{"childImageSharp":{"gatsbyImageData":{"layout":"constrained","placeholder":{"fallback":"data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20width='660'%20height='400'%20viewBox='0%200%20660%20400'%20preserveAspectRatio='none'%3e%3cpath%20d='M187%2039a153%20153%200%2000-118%2068c-1%201%204%209%208%2017l9%2016%206%201%2017%203%2012%202%202-4c19-24%2045-37%2076-37h12V67l13-11%2012-12c0-3-32-6-49-5m248%200a173%20173%200%2000-68%2023l13%2013%2013%2012v18l-1%2019%206-3c35-23%2081-21%20112%206%205%204%207%205%209%203l11-6a5962%205962%200%200022-13l5-24c1-8%201-7-7-14a161%20161%200%2000-115-34M238%2051l-14%2012-8%207v18l1%2019%207%202c25%206%2051%2029%2060%2054%202%206%204%207%204%205l3-11c4-18%2013-37%2024-53l6-8-4-5a176%20176%200%2000-73-46l-6%206m118%2019a160%20160%200%2000-64%20123c-1%2025-5%2037-14%2053-5%209-17%2022-26%2028l-7%205%2010%208%2013%2011%204%204v18l1%2018a160%20160%200%200084-131c3-40%208-54%2025-72l5-5V89l-10-9-13-12-3-2-5%204m203%2031l-3%2015-17%209-18%2010%204%208c17%2023%2022%2051%2015%2079l-2%209%2011%2015%2012%2016h6l29%202%203-8a160%20160%200%2000-36-171l-4%2016M60%20120a160%20160%200%200017%20181l3%202%2012-5%2017-7c7-3%207-3%2013-19l4-15-4-6a95%2095%200%2001-7-94c2-6%203-5-10-7l-16-3-6-1-9-16-10-16-4%206m126%2069c-7%208-2%2022%209%2022l9-4c0-3-2-3-5-2h-7c-8-5-2-17%206-14%204%202%207-1%204-3-4-3-12-3-16%201m21%209c0%2012%201%2013%203%2013s2%200%202-12v-13h-5v12m225-10c-4%202-7%209-6%2013%203%208%2011%2012%2019%208%203-2%203-2%202-4h-4c-3%202-6%201-9-1-5-6%200-16%208-13h5c4-4-9-7-15-3m18%2010l1%2013h5c10%200%2016-4%2016-12%200-9-4-13-15-13h-7v12m6%200v9h3c5%200%208-4%208-10-1-5-4-8-8-8h-3v9m-97%2034a169%20169%200%2001-30%2067%20154%20154%200%200080%2053c14%204%2013%205%209-17l-4-19%2010-13%2010-13-8-3a94%2094%200%2001-63-59c-1-5-3-3-4%204m172%2012a92%2092%200%2001-79%2046h-11l-9%2011c-13%2017-12%2015-10%2027a7658%207658%200%20016%2027%20161%20161%200%2000160-76l4-9c0-1-8-2-17-2l-17-2a4683%204683%200%2001-23-29l-4%207m-400%2020l-5%2015-4%2013-6%203a610%20610%200%2001-31%2014%20161%20161%200%2000176%2035l4-2v-38l-6-5-13-11-7-6-5%202c-31%2013-67%208-95-14l-8-6'%20fill='%23d3d3d3'%20fill-rule='evenodd'/%3e%3c/svg%3e"},"images":{"fallback":{"src":"/static/86c42602cf1f5ea4945b7157d5022a8c/bc51f/banner.png","srcSet":"/static/86c42602cf1f5ea4945b7157d5022a8c/41200/banner.png 165w,\n/static/86c42602cf1f5ea4945b7157d5022a8c/f979a/banner.png 330w,\n/static/86c42602cf1f5ea4945b7157d5022a8c/bc51f/banner.png 660w","sizes":"(min-width: 660px) 660px, 100vw"},"sources":[{"srcSet":"/static/86c42602cf1f5ea4945b7157d5022a8c/322ad/banner.webp 165w,\n/static/86c42602cf1f5ea4945b7157d5022a8c/de3b3/banner.webp 330w,\n/static/86c42602cf1f5ea4945b7157d5022a8c/2b2b5/banner.webp 660w","type":"image/webp","sizes":"(min-width: 660px) 660px, 100vw"}]},"width":660,"height":400}}}},"body":"<blockquote>\n<p>해당 포스트는 모모팀 크루 렉스가 작성했습니다.</p>\n</blockquote>\n<p>개발자가 사용자들에게 서비스를 배포하기까지는 개발, 테스트, 빌드, 배포 등의 많은 과정들이 필요하다. 서비스를 한 번만 배포를 하면 이러한 과정을 수행하는 것이 문제가 없지만, 실제 서비스들은 추가적인 기능 개발과 예상하지 못한 오류 수정 등의 많은 코드의 변경이 필요하고 이러한 코드의 변경이 있을 때마다 위의 수많은 과정들을 반복해서 진행해야 할 것이다. CI/CD는 이러한 과정들을 자동화하여 애플리케이션을 짧은 주기로 사용자들에게 제공하고 개발자들이 빌드, 배포와 같은 작업에 투자하는 시간을 단축시켜 개발에 더 많은 시간을 투자할 수 있도록 해준다.</p>\n<p>이번 포스트에서는 CI, CD의 개념에 대해 정리하겠다.</p>\n<h1>CI (Continuous Integration)</h1>\n<blockquote>\n<p>간단히 설명하면 빌드, 테스트의 자동화이다.</p>\n</blockquote>\n<p>CI/CD의 \"CI\"는 개발자를 위한 자동화 프로세스인 지속적인 통합을 의미한다. CI를 성공적으로 구현할 경우 애플리케이션의 코드의 변경사항이 있을 경우 정기적으로 빌드 및 테스트되어 공유 리포지토리에 통합되므로 여러 명의 개발자가 동시에 애플리케이션 개발과 관련된 코드 작업을 할 경우 서로 충돌할 수 있는 문제를 해결할 수 있다.</p>\n<p>CI는 두가지 포인트를 잡고 이해하고 개발을 진행하면 좋다.</p>\n<ol>\n<li>개발자들은 코드 변경 사항을 주기적으로 빈번하게 머지해야한다는 점이다. 협업을 할 때 여러명의 개발자가 주기적으로 머지를 하지 않고 개발을 큰 단위로 한 후에 머지를 하게 된다면 머지 충돌을 해결하는데 많은 시간을 소모하게 될 것이다. 그렇기에 작업을 작은 단위로 나눠서 개발을 하여야하며 버그를 수정하거나 새로운 기능을 구현한다면 바로 반영을 하여야 한다. 이와 같이 주기적으로 머지를 한다면 머지 충돌을 최소화하여 개발의 생산성이 향상되고 코드의 변경사항이 적어 문제점들을 빠르게 해결할 수 있다는 이점을 얻을 수 있다.</li>\n<li>CI는 통합을 위한 빌드 단계(빌드, 테스트, 머지)의 자동화를 제공한다는 점이다. CI는 코드 버전을 관리하는 VCS시스템(Git, SVN등)에 Push되면 자동으로 테스트와 빌드가 수행되어 안정적인 배포 파일을 만드는 과정을 제공한다. 개발자는 스크립트를 통해 빌드와 개발자가 작성한 테스트 코드들을 자동으로 실행하게 할 수 있다. 이때 만약 빌드 또는 테스트가 실패하게 된다면 Push된 코드에 오류가 있다고 개발자에게 피드백을 주어 개발자는 오류에 대해 빠르게 대처할 수 있다. 또한 CI 테스트가 개발자들이 작성한 Unit Test, Integration Test 등을 통해 실행되기에 CI를 위한 테스트가 반강제적이게 되어 조금 더 나은 코드 퀄리티를 만들 수 있다.</li>\n</ol>\n<p>마틴 파울러는 CI의 4가지 규칙이 있다고 언급하였다. 규칙은 다음과 같다.</p>\n<ol>\n<li>모든 소스코드가 살아있고(현재 실행되고) 누구든 현재의 소스에 접근할 수 있는 단일 지점을 유지할 것</li>\n<li>빌드 프로세스를 자동화해서 누구든 소스로부터 시스템을 빌드하는 단일 명령어를 사용할 수 있게 할 것</li>\n<li><strong>테스팅을 자동화</strong>해서 단일 명령어로 언제든지 세스템에 대한 건전한 테스트 수트를 실행할 수 있게 할 것</li>\n<li>누구나 현재 실행 파일을 얻으면 지금까지 가장 완전한 실행 파일을 얻었다는 확신을 하게 할 것</li>\n</ol>\n<blockquote>\n<p>프로젝트가 완전한 상태임을 보장하기 위해서는 테스트 코드가 구현되어 있어야만 한다.</p>\n</blockquote>\n<p><a href=\"https://www.martinfowler.com/articles/originalContinuousIntegration.html\">Continuous Integration (original version)</a></p>\n<h1>CD (Continuous Deployment or Continuous Delivery)</h1>\n<blockquote>\n<p>간단히 설명하자면 배포의 자동화이다.</p>\n</blockquote>\n<p>CI/CD의 \"CD\"는 지속적인 서비스 제공(Continuous Delivery) 및/또는 지속적인 배포(Continuous Deployment)를 의미하며 이 두 용어는 상호 교환적으로 사용된다. 두 가지 의미 모두 파이프라인의 추가 단계에 대한 자동화를 뜻하지만 때로는 얼마나 많은 자동화가 이루어지고 있는지를 설명하기 위해 별도로 사용되기도 한다.</p>\n<h3>지속적인 제공 (Continuous Delivery)</h3>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 800px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/88e688c4ddd0282106652f3dffd2551c/f3abf/ContinuousDelivery.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 54.49999999999999%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAYAAAB/Ca1DAAAACXBIWXMAAAsTAAALEwEAmpwYAAACX0lEQVQoz32Sy0tUcRiGf2fOfXTOOeNcnKuOOjPeLzNNGeYlwlSwvDTmJS95KSmSgnYRRYs2CdkyClFqFUS7XEUEIm5atWrT/9DezRNnxoVEuXh4P77F+8H3vuLl0xE+v5tnZ2uCna1Jdl+VebM5xofX19ndmiAesahNOETDPhJRGyHE/ymOtrKx0s3KTI7ZsSYWrrWxOpdneTrH7fkCC8VObJ9BlePFtgwsn4FmGEiS9E/ESfdMYxs+O/jXVQlV01DUMqqus9bUQsSy0HQNr2lgGjqmUVYhyzKqLGGoMtNTRXKdHUhCoCkyuqZhKga6R0fzaGiShqGYPLnSQtixEEJFkl0THeHRy3MgXCDWvE4gvUgkfYNoZp5QZolEZhErEMfJVmJnLPxZByfrqk3PcoGu5gDtSZP2VCXttRV0pLw0JioQdnyQ1Oo+hYcHOCPvscc/0frgEKt/m67Lee58v8ndgzVu7S+xcbjOwpc5Zmb7+LU9CF+LHO1d5WhvHL7N8fPtRUQg1k+sb5N433NC+UcEzj4jOvCCcO4x4WSKmt4YdRdSZAZSNFxKszTawe+JIT5OnmH4fIhiT4TJngjF3hhD+SDCMPw0NuRpzhZoTJe1tekc6focimyiCE8pnLpgkI2pIYZrGvjR181sPFkKzP2jEApCyMcqBJbtIxD04/ht/FUOoXCQSp8XWfZgek0URSZZX8/G/XssLC1iqApqKWH9OGEd09RLiYvTSqooCrquo6oalmURrQ4R8lul+rh7F03TSrizrCinG7pFdWvlclxahCShHO9O4vF4iEeq+QOoJTi8dkCDAwAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"Untitled\"\n        title=\"Untitled\"\n        src=\"/static/88e688c4ddd0282106652f3dffd2551c/5a190/ContinuousDelivery.png\"\n        srcset=\"/static/88e688c4ddd0282106652f3dffd2551c/772e8/ContinuousDelivery.png 200w,\n/static/88e688c4ddd0282106652f3dffd2551c/e17e5/ContinuousDelivery.png 400w,\n/static/88e688c4ddd0282106652f3dffd2551c/5a190/ContinuousDelivery.png 800w,\n/static/88e688c4ddd0282106652f3dffd2551c/c1b63/ContinuousDelivery.png 1200w,\n/static/88e688c4ddd0282106652f3dffd2551c/f3abf/ContinuousDelivery.png 1474w\"\n        sizes=\"(max-width: 800px) 100vw, 800px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n  </a>\n    </span></p>\n<p>지속적인 제공은 CI의 작업을 거친 후, 리포지토리에 자동으로 업로드 되는 것을 뜻한다. 개발자나 검증팀은 리포지토리에 업로드된 준비된 Release가 정상적인지 문제가 없는지 이 검증을 한 후, 애플리케이션을 실시간으로 프로덕션 환경에 수동으로 배포할 수 있다. 이는 개발팀과 비즈니스 팀 간에 가시성과 소통 부족의 문제를 해결해준다. 지속적인 제공은 최소한의 노력으로 새로운 코드를 배포하는 것을 목표로 하고 있다.</p>\n<blockquote>\n<p>지속적 제공 프로세스를 구축하기 위해서는 개발 파이프라인에 CI를 먼저 구축하여야 한다.</p>\n</blockquote>\n<h3>지속적인 배포 (Continuous Deployment)</h3>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 800px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/88e688c4ddd0282106652f3dffd2551c/f3abf/ContinuousDelivery.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 54.49999999999999%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAYAAAB/Ca1DAAAACXBIWXMAAAsTAAALEwEAmpwYAAACX0lEQVQoz32Sy0tUcRiGf2fOfXTOOeNcnKuOOjPeLzNNGeYlwlSwvDTmJS95KSmSgnYRRYs2CdkyClFqFUS7XEUEIm5atWrT/9DezRNnxoVEuXh4P77F+8H3vuLl0xE+v5tnZ2uCna1Jdl+VebM5xofX19ndmiAesahNOETDPhJRGyHE/ymOtrKx0s3KTI7ZsSYWrrWxOpdneTrH7fkCC8VObJ9BlePFtgwsn4FmGEiS9E/ESfdMYxs+O/jXVQlV01DUMqqus9bUQsSy0HQNr2lgGjqmUVYhyzKqLGGoMtNTRXKdHUhCoCkyuqZhKga6R0fzaGiShqGYPLnSQtixEEJFkl0THeHRy3MgXCDWvE4gvUgkfYNoZp5QZolEZhErEMfJVmJnLPxZByfrqk3PcoGu5gDtSZP2VCXttRV0pLw0JioQdnyQ1Oo+hYcHOCPvscc/0frgEKt/m67Lee58v8ndgzVu7S+xcbjOwpc5Zmb7+LU9CF+LHO1d5WhvHL7N8fPtRUQg1k+sb5N433NC+UcEzj4jOvCCcO4x4WSKmt4YdRdSZAZSNFxKszTawe+JIT5OnmH4fIhiT4TJngjF3hhD+SDCMPw0NuRpzhZoTJe1tekc6focimyiCE8pnLpgkI2pIYZrGvjR181sPFkKzP2jEApCyMcqBJbtIxD04/ht/FUOoXCQSp8XWfZgek0URSZZX8/G/XssLC1iqApqKWH9OGEd09RLiYvTSqooCrquo6oalmURrQ4R8lul+rh7F03TSrizrCinG7pFdWvlclxahCShHO9O4vF4iEeq+QOoJTi8dkCDAwAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"Untitled\"\n        title=\"Untitled\"\n        src=\"/static/88e688c4ddd0282106652f3dffd2551c/5a190/ContinuousDelivery.png\"\n        srcset=\"/static/88e688c4ddd0282106652f3dffd2551c/772e8/ContinuousDelivery.png 200w,\n/static/88e688c4ddd0282106652f3dffd2551c/e17e5/ContinuousDelivery.png 400w,\n/static/88e688c4ddd0282106652f3dffd2551c/5a190/ContinuousDelivery.png 800w,\n/static/88e688c4ddd0282106652f3dffd2551c/c1b63/ContinuousDelivery.png 1200w,\n/static/88e688c4ddd0282106652f3dffd2551c/f3abf/ContinuousDelivery.png 1474w\"\n        sizes=\"(max-width: 800px) 100vw, 800px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n  </a>\n    </span></p>\n<p>Delivery와 다르게 개발자나 검증팀이 준비된 Release를 확인하지 않고 배포까지 자동화 해두는 것을 Continuous Deployment라고 한다. 즉, Delivery와 비슷하지만 최종 단계가 자동화가 되었는지, 안 되었는지에 따라 다르게 부른다.</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 800px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/e6aa8f7e510622c2a5da1fdda3f9b693/6a6e9/pipeline.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 26.5%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAFCAYAAABFA8wzAAAACXBIWXMAAAsTAAALEwEAmpwYAAABdklEQVQY002Iz0tTcQDAv/gfJAp6KITskqlM8rRAu3kaHTxEXjLP/Q2BI4lQ53M+k0fzR6BYycR5MEnJgfrWtufb3Cqn4tt7ezpZ2NNDPFPiE44OfuDDBz6C//x1fpFTN9mJqewn4nB5wXX2slmyus43XeeP65bfieOQjMVIaRqZVKr8xKdEmmUtw/TSKqMzc4zPRZCnPxKOqiwm0qxraaxIBHX0DVFJYlOW2QmHOd3awpyaIiVJbAeDZEZkSvPziMevx1jQf/BUmqBzMEQwmqTDH+ThiwBdynu6eocYaPYwXFWFUn8HuaaGlxUVfLjbwBchSN6uJ37zFuqNSlaEQPRI40yufaU78JYn/QqvFlbw+Yd51CfzTJnleUAh1NZOqKmJd14vE54WRurq+OzzsVFbi+Z9QPJ+K/F7jWxUVyOMYonvpk2ucMSeXSRnHZZ7cHTMrl2kWPrJb8vEMQxOr8znObNtLhyHc8vCNQzcfB7XNDkvFPgHfRstD4tWHpQAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"Untitled\"\n        title=\"Untitled\"\n        src=\"/static/e6aa8f7e510622c2a5da1fdda3f9b693/5a190/pipeline.png\"\n        srcset=\"/static/e6aa8f7e510622c2a5da1fdda3f9b693/772e8/pipeline.png 200w,\n/static/e6aa8f7e510622c2a5da1fdda3f9b693/e17e5/pipeline.png 400w,\n/static/e6aa8f7e510622c2a5da1fdda3f9b693/5a190/pipeline.png 800w,\n/static/e6aa8f7e510622c2a5da1fdda3f9b693/6a6e9/pipeline.png 826w\"\n        sizes=\"(max-width: 800px) 100vw, 800px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n  </a>\n    </span></p>\n<p>CI/CD는 지속적 통합 및 지속적 제공(CD, Continuous Delivery)의 구축 사례만을 지칭할 때도 있고, 지속적 통합, 지속적 제공, 지속적 배포라는 3가지 구축 사례 모두를 의미하는 것일 수도 있다. 해당 용어는 사례별로 CI/CD 파이프라인에 구현된 자동화 수준 정도에 따라 그 의미가 달라지게 된다. 회사마다 어느정도로 자동화를 하는지가 다르기 때문에 CI/CD라고 하여서 모든 회사가 똑같은 프로세스를 거치는게 아니고 회사, 팀마다 다른 방식을 적용할 수 있다.</p>\n<h1>CI/CD의 대표적인 툴</h1>\n<p>Jenkins, Buildkite, Github Actions, GitLab CI/CD, Bitbucket Pipelines, Circleci 등이 있다. 이 중에서 가장 많이 사용되는 것은 Jenkins이다.</p>\n<h1>Reference</h1>\n<ul>\n<li><a href=\"https://book.naver.com/bookdb/book_detail.nhn?bid=15871738\">스프링 부트와 AWS로 혼자 구현하는 웹 서비스 - 이동욱님</a></li>\n<li><a href=\"https://book.naver.com/bookdb/book_detail.nhn?bid=15871738\">스프링 부트와 AWS로 혼자 구현하는 웹 서비스</a></li>\n<li><a href=\"https://www.youtube.com/watch?v=0Emq5FypiMM&#x26;t=296s\">CI/CD 5분 개념 정리 (현업에서 쓰는 개발 프로세스)</a></li>\n<li><a href=\"https://www.redhat.com/ko/topics/devops/what-is-ci-cd\">CI/CD(지속적 통합/지속적 제공): 개념, 방법, 장점, 구현 과정</a></li>\n</ul>","categories":["CI/CD"],"date":"July 13, 2022","description":"CI/CD란 무엇일까?","id":"fb64fe12-b1b9-5346-998a-0b72e6aea8ac","keywords":["CI/CD"],"slug":"/CI-CD란/","title":"CI/CD란?","readingTime":{"text":"10 min read"}}]}},"staticQueryHashes":["1094019748","36698639"]}